<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Denah & Ensiklopedia Kacamata Heykama</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .cell {
            transition: all 0.2s;
            height: 100%;
            min-height: 60px;
            vertical-align: middle;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-weight: 500;
        }
        .cell:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1);
            z-index: 10;
            position: relative;
            cursor: pointer;
        }
        .cell.highlighted {
            background-color: #fde047 !important; /* Kuning Stabilo */
            border: 2px solid #eab308;
        }
        .cell.selected {
            background-color: #bfdbfe !important; /* Biru Muda */
            border: 2px solid #2563eb;
            transform: scale(1.02);
        }
        /* Table styling untuk memastikan grid rapi */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 2px;
            background-color: #000;
            border: 2px solid #000;
            padding: 2px;
        }
        .grid-item {
            background-color: white;
            padding: 4px;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="w-full max-w-7xl mx-auto p-4 min-h-screen flex flex-col md:flex-row gap-6">
        
        <div class="flex-1">
            <div class="flex justify-between items-center mb-4">
                <h1 class="text-2xl font-bold text-gray-900 flex items-center gap-2">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 7m0 13V7m0 0L9 7"></path></svg>
                    Denah Rak Live
                </h1>
                <div class="flex gap-3 text-xs">
                    <span class="flex items-center gap-1"><span class="w-3 h-3 bg-white border border-gray-400 block"></span> Meja</span>
                    <span class="flex items-center gap-1"><span class="w-3 h-3 bg-yellow-100 border border-gray-400 block"></span> Tumpuk</span>
                </div>
            </div>

            <div class="relative mb-4">
                <input type="text" id="searchInput" placeholder="Cari frame (contoh: Sora, kotak, wajah bulat)..." 
                    class="w-full pl-10 pr-4 py-3 rounded-lg border-2 border-gray-300 focus:border-blue-500 focus:outline-none shadow-sm">
                <svg class="w-5 h-5 text-gray-400 absolute left-3 top-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            </div>

            <div class="grid-container text-xs">
                <div class="grid-item row-span-2 bg-gray-200 flex items-center justify-center">X</div> <div class="grid-item row-span-8 bg-gray-200 flex items-center justify-center">X</div> <div class="grid-item cell" data-names="Shuji,Noze">Shuji<br>Noze</div>
                <div class="grid-item cell" data-names="Hajime,Kaiho">Hajime<br>Kaiho</div>
                <div class="grid-item cell" data-names="Najio">Najio</div>
                <div class="grid-item cell" data-names="Kinsei,Hanami,Aozora">Kinsei<br>Hanami<br>Aozora</div>
                <div class="grid-item cell" data-names="Chowa,Ima">Chowa<br>Ima</div>
                <div class="grid-item cell" data-names="Kaori,Okimi">Kaori<br>Okimi</div>
                <div class="grid-item cell" data-names="Shika,Mizu,Hiromi">Shika<br>Mizu<br>Hiromi</div>
                <div class="grid-item cell" data-names="Ayumi,Yuji">Ayumi<br>Yuji</div>
                <div class="grid-item cell" data-names="Haruna,Airi">Haruna<br>Airi</div>
                <div class="grid-item cell bg-yellow-100" data-names="Piyo" data-stacked="true" style="grid-row: span 2;">Piyo</div>

                <div class="grid-item col-span-5 row-span-5 bg-blue-50 flex items-center justify-center font-bold text-lg text-blue-800 border-2 border-blue-200">
                    AREA HOST
                </div>
                <div class="grid-item cell" data-names="Sora,Siyo" style="grid-row: span 2;">Sora<br>Siyo</div>
                <div class="grid-item cell" data-names="Kaitou,Jine,Riyuki">Kaitou<br>Jine<br>Riyuki</div>
                <div class="grid-item cell" data-names="Akika,Akame">Akika<br>Akame</div>
                <div class="grid-item bg-gray-200" style="grid-row: span 2;"></div> <div class="grid-item cell" data-names="Naoya">Naoya</div>
                <div class="grid-item cell" data-names="Hoshi,Miura,Yoka">Hoshi<br>Miura<br>Yoka</div>
                <div class="grid-item cell" data-names="Chita,Hiro">Chita<br>Hiro</div>
                <div class="grid-item cell bg-yellow-100" data-names="Doci,Yuki" data-stacked="true">Doci<br>Yuki</div>

                <div class="grid-item cell" data-names="Shika,Rikona">Shika<br>Rikona</div>
                <div class="grid-item bg-gray-100"></div> <div class="grid-item cell" data-names="Yukai,Sora">Yukai<br>Sora</div>
                <div class="grid-item cell" data-names="Tamura,Karia">Tamura<br>Karia</div>
                <div class="grid-item cell" data-names="Konan,Kyosi,Shizu" style="grid-row: span 2;">Konan<br>Kyosi<br>Shizu</div>
                <div class="grid-item cell bg-yellow-100" data-names="Geumi,Nalla" data-stacked="true">Geumi<br>Nalla</div>

                <div class="grid-item cell" data-names="Meiso,Rune">Meiso<br>Rune</div>
                <div class="grid-item bg-gray-100"></div>
                <div class="grid-item bg-gray-100"></div>
                <div class="grid-item cell" data-names="Hana,Sena">Hana<br>Sena</div>
                <div class="grid-item cell bg-yellow-100" data-names="Miki" data-stacked="true">Miki</div>

                <div class="grid-item cell" data-names="Kira,Mori">Kira<br>Mori</div>
                <div class="grid-item bg-gray-100"></div>
                <div class="grid-item bg-gray-100"></div>
                <div class="grid-item cell" data-names="Amiko,Inari,Shizu">Amiko<br>Inari<br>Shizu</div>
                <div class="grid-item cell" data-names="Meiro,Kizuna,Kasumi">Meiro<br>Kizuna<br>Kasumi</div>
                <div class="grid-item bg-gray-200"></div> <div class="grid-item bg-gray-200 row-span-2"></div> <div class="grid-item cell" data-names="Miyu">Miyu</div>
                <div class="grid-item cell" data-names="Sanmu" style="grid-row: span 2;">Sanmu</div> <div class="grid-item cell bg-yellow-100" data-names="Chami,Suwa" data-stacked="true" style="grid-row: span 2;">Chami<br>Suwa</div>
                <div class="grid-item bg-gray-100"></div>
                <div class="grid-item bg-gray-100"></div>
                <div class="grid-item bg-gray-100"></div>
                <div class="grid-item bg-gray-100"></div>
                <div class="grid-item bg-gray-100"></div>
                <div class="grid-item bg-gray-100"></div>
                <div class="grid-item cell" data-names="Yuna,Rona">Yuna<br>Rona</div>
                
                <div class="grid-item bg-gray-100"></div>
                </div>
            
            <div class="mt-4 flex gap-2">
                <button onclick="showLensInfo()" class="flex-1 bg-slate-800 text-white py-2 rounded-lg hover:bg-slate-700 transition">üìñ Info Jenis Lensa</button>
                <button onclick="resetSearch()" class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100">Reset</button>
            </div>
        </div>

        <div class="w-full md:w-96 bg-white rounded-xl shadow-lg border border-gray-200 flex flex-col h-[85vh] sticky top-4">
            <div class="p-4 border-b border-gray-100 bg-gray-50 rounded-t-xl">
                <h2 class="text-xl font-bold text-gray-800" id="infoTitle">Detail Produk</h2>
                <p class="text-sm text-gray-500" id="infoSubtitle">Klik pada kotak denah untuk melihat detail.</p>
            </div>
            
            <div id="infoContent" class="flex-1 overflow-y-auto p-4 space-y-6">
                <div class="text-center text-gray-400 py-10 flex flex-col items-center">
                    <svg class="w-16 h-16 mb-3 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>
                    <p>Pilih kacamata di denah atau cari nama produk.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="lensModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center p-4">
        <div class="bg-white rounded-xl max-w-2xl w-full max-h-[80vh] overflow-hidden flex flex-col shadow-2xl">
            <div class="p-4 border-b flex justify-between items-center bg-slate-50">
                <h3 class="font-bold text-lg">Panduan Jenis Lensa</h3>
                <button onclick="closeLensInfo()" class="text-gray-500 hover:text-red-500 text-xl">&times;</button>
            </div>
            <div class="p-4 overflow-y-auto space-y-3 text-sm">
                <div class="p-3 bg-blue-50 border-l-4 border-blue-500">
                    <span class="font-bold block text-blue-900">Lensa Minus Clear (CR)</span>
                    Standar, bening, jernih.
                </div>
                <div class="p-3 bg-purple-50 border-l-4 border-purple-500">
                    <span class="font-bold block text-purple-900">Blueray (Antiradiasi)</span>
                    Memblokir sinar biru HP/Laptop. Wajib buat yang sering depan layar.
                </div>
                <div class="p-3 bg-gray-100 border-l-4 border-gray-500">
                    <span class="font-bold block text-gray-900">Photochromic</span>
                    Berubah gelap otomatis saat kena matahari (outdoor), bening saat indoor.
                </div>
                <div class="p-3 bg-indigo-50 border-l-4 border-indigo-500">
                    <span class="font-bold block text-indigo-900">Bluechromic (Paket Lengkap)</span>
                    Gabungan Blueray + Photochromic. Anti radiasi & bisa berubah gelap. Best seller!
                </div>
                <div class="p-3 bg-green-50 border-l-4 border-green-500">
                    <span class="font-bold block text-green-900">Hi-Index (Lensa Tipis)</span>
                    Untuk minus tinggi (biasanya -4.00 ke atas) agar lensa tidak tebal keluar frame.
                </div>
                <div class="p-3 bg-orange-50 border-l-4 border-orange-500">
                    <span class="font-bold block text-orange-900">Lensa Drive (Anti Glare)</span>
                    Mengurangi silau lampu kendaraan malam hari.
                </div>
                <div class="p-3 bg-teal-50 border-l-4 border-teal-500">
                    <span class="font-bold block text-teal-900">Essilor Crizal / Optifog</span>
                    Lensa premium, lapisan super licin, anti gores lebih baik, atau anti embun.
                </div>
            </div>
        </div>
    </div>

    <script>
        // === DATABASE LENGKAP BERDASARKAN PDF ===
        const glassesDB = {
            // === KELOMPOK 1: FRAME PLASTIK / KOMBINASI RINGAN ===
            "Sora": {
                bentuk: "Oval semi Cat Eye",
                material: "Plastik (tulang besi di samping)",
                elastisitas: "Sedikit elastis (tidak ada per)",
                ukuran: "Medium ke Lebar (140-160mm+)",
                wajah: "Semua bentuk wajah (Bulat, Oval, Lonjong, Hati, Diamond). Cocok untuk hidung pesek (ada nosepad tempel).",
                note: "‚ùå Wajah tirus/kecil tidak disarankan. Style: Influencer, Soft girl, Korean look.",
                mirip: "Odate, Siyo, Shuji, Chita"
            },
            "Siyo": {
                bentuk: "Oval semi Cat Eye",
                material: "Full Plastik (tulang besi)",
                elastisitas: "Sedikit elastis (bahan tidak kaku)",
                ukuran: "Medium ke Kecil",
                wajah: "Semua bentuk wajah. Cocok hidung pesek.",
                note: "‚ùå Pipi chubby kurang disarankan (bisa nempel pipi). Style: Eksploratif, colorful.",
                mirip: "Sora (rekomendasi utama), Sanmu (versi kecil), Kaori"
            },
            "Shuji": {
                bentuk: "Oval semi Cat Eye",
                material: "Plastik (depan) + Besi (samping)",
                elastisitas: "Ada Per (bisa melar)",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah. Cocok hidung pesek.",
                note: "Bikin muka terlihat lebih tirus. Style: Versatile, Casual chic.",
                mirip: "Sora (versi tipis), Noze"
            },
            "Noze": {
                bentuk: "Cat Eye",
                material: "Plastik",
                elastisitas: "Ada Per (bisa melar)",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Efek lifting wajah. Style: Feminine, Fresh, Chic.",
                mirip: "Shuji, Akika, Shika"
            },
            "Akika": {
                bentuk: "Cat Eye",
                material: "Plastik",
                elastisitas: "Ada Per",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Kesan Leadership & Elegan.",
                mirip: "Akame (lebih kotak), Anya (kombinasi besi)"
            },
            "Akame": {
                bentuk: "Cat Eye Square (Tegas)",
                material: "Plastik",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "‚ùå Wajah kotak rahang tajam kurang disarankan (terlalu tegas). Style: Smart, Bold.",
                mirip: "Akika (tidak terlalu lebar)"
            },
            "Sanmu": {
                bentuk: "Oval semi Cat Eye",
                material: "Plastik",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Kecil",
                wajah: "Semua bentuk wajah.",
                note: "Style: Feminine, Classic, Anggun.",
                mirip: "Miyu (lebih lebar), Shika (lebih cat eye)"
            },
            "Shika": {
                bentuk: "Cat Eye",
                material: "Premium Plastik (TR90)",
                elastisitas: "Ada Per (Nyaman, tidak jepit)",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "‚ùå Wajah tirus kurang disarankan (bikin makin tirus). Style: Bold, High Fashion.",
                mirip: "Ayumi, Noze, Shuji"
            },

            // === KELOMPOK 2: FRAME BESI / METAL ===
            "Miki": {
                bentuk: "Oval semi Cat Eye",
                material: "Full Besi (Nosepad hidup)",
                elastisitas: "Tergantung warna (Black Rosegold & Cream Gold ada per)",
                ukuran: "Medium (Asian Fit)",
                wajah: "Semua bentuk wajah.",
                note: "‚ùå Tidak disarankan wajah Big Size/Sangat Lebar. Style: Korean chic, Drakor vibes.",
                mirip: "Mine, Mizu, Misawa"
            },
            "Mine": {
                bentuk: "Cat Eye",
                material: "Full Metal",
                elastisitas: "Ada Per (melar ke samping)",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Style: Elegan, Intelektual, Fleksibel.",
                mirip: "Miki (versi lebih oval)"
            },
            "Misawa": {
                bentuk: "Bulat",
                material: "Full Besi",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Kecil",
                wajah: "Oval, Lonjong, Hati, Diamond.",
                note: "Style: Vintage, Aesthetic, Intellectual.",
                mirip: "Najio, Hajime, Kinsei"
            },
            "Arao": {
                bentuk: "Round",
                material: "Full Metal",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Kotak, Oval, Lonjong, Hati, Diamond.",
                note: "Style: Minimalis, Smart Casual.",
                mirip: "Misawa (lebih kecil), Inabe (versi kotak)"
            },
            "Osaka": {
                bentuk: "Square Rounded",
                material: "Full Besi",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Kecil",
                wajah: "Bulat, Oval, Lonjong, Hati, Diamond.",
                note: "Style: Clean, Modern, Professional.",
                mirip: "Aruna, Hiromi"
            },
            "Akita": {
                bentuk: "Square Rounded",
                material: "Full Metal",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua (kecuali kotak rahang tajam).",
                note: "Style: Berwibawa, Tegas, Mature.",
                mirip: "Hatsu & Aisai (versi lebih kecil)"
            },
             "Inabe": {
                bentuk: "Square",
                material: "Full Metal",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua (kecuali kotak rahang tajam).",
                note: "Style: Sleek, Smart, Professional.",
                mirip: "Akita"
            },
             "Aisai": {
                bentuk: "Rectangle",
                material: "Full Metal",
                elastisitas: "Ada Per",
                ukuran: "Medium ke Kecil",
                wajah: "Semua (kecuali kotak rahang tajam).",
                note: "Style: Tegas, Analitis (cocok utk orang data/hukum).",
                mirip: "Hatsu (lebih kecil), Akita (lebih lebar)"
            },
             "Hatsu": {
                bentuk: "Square Rounded",
                material: "Full Metal",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Kecil",
                wajah: "Semua (kecuali kotak rahang tajam).",
                note: "Style: Professional balance.",
                mirip: "Najio, Hajime"
            },

            // === KELOMPOK 3: DOUBLE RIM / KOMBINASI ===
            "Anya": {
                bentuk: "Cat Eye semi Kotak",
                material: "Double Rim (Plastik + Besi Gold)",
                elastisitas: "Ada Per",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "‚ùå Tidak disarankan wajah kecil. Coating gold bisa memudar seiring waktu. Style: Profesional, Rapi, Kondangan.",
                mirip: "Akika (versi full plastik)"
            },
            "Miso": {
                bentuk: "Cat Eye",
                material: "Double Rim (Plastik + Besi)",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium",
                wajah: "Semua bentuk wajah.",
                note: "Style: Anggun, Effortless Chic.",
                mirip: "Kaori"
            },
             "Okimi": {
                bentuk: "Oval semi Cat Eye",
                material: "Double Rim (Plastik + Besi)",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Kecil (Size Kecil)",
                wajah: "Semua bentuk wajah.",
                note: "Style: Sophisticated, Smart, High Class.",
                mirip: "Kaori, Anya, Haruna"
            },
            "Hiromi": {
                bentuk: "Square Rounded",
                material: "Double Rim",
                elastisitas: "Elastis (batang besi lentur)",
                ukuran: "Medium ke Kecil",
                wajah: "Semua bentuk wajah.",
                note: "Style: Modern Classic, Data Analyst vibes.",
                mirip: "Haruna (lebih lebar)"
            },
            "Akashi": {
                bentuk: "Oval",
                material: "Double Rim",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Style: Elegan, Versatile, Friendly Professional.",
                mirip: "Airi (lebih kecil)"
            },

            // === KELOMPOK 4: ACETATE (PREMIUM / BEYOND THE SHADES / REFINE) ===
            "Hajime": {
                bentuk: "Rectangle/Square",
                material: "Acetate (Plat besi di gagang)",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua. Cocok pipi chubby/hidung pesek.",
                note: "‚ùå Wajah kotak tirus tidak disarankan. Style: Productivity, Nerd-Chic.",
                mirip: "Hiro, Hoshi"
            },
            "Najio": {
                bentuk: "Square Rounded",
                material: "Acetate",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Style: Bold, Classic, 'Main Character' vibes.",
                mirip: "Hoshi, Hajime"
            },
            "Yukai": {
                bentuk: "Round/Geometris",
                material: "Acetate",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium ke Kecil",
                wajah: "Semua. ‚ùå Wajah lebar chubby kurang disarankan.",
                note: "Style: Unik, Active, Creative.",
                mirip: "Kaiho, Kaitou"
            },
             "Kaiho": {
                bentuk: "Rectangle/Geometris (Segi 8)",
                material: "Acetate",
                elastisitas: "Sedikit elastis",
                ukuran: "LEBAR (Salah satu terlebar 15cm)",
                wajah: "Semua bentuk wajah (terutama wajah lebar).",
                note: "Style: Edgy, Artsy, Skena.",
                mirip: "Kaitou"
            },
             "Kaitou": {
                bentuk: "Geometris",
                material: "Acetate",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium ke Lebar / Kecil",
                wajah: "Semua bentuk wajah.",
                note: "Style: Modern, Adaptif.",
                mirip: "Kaiho, Hitto"
            },
            "Chowa": {
                bentuk: "Round",
                material: "Acetate",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium ke Kecil",
                wajah: "Oval, Lonjong, Kotak, Hati.",
                note: "‚ùå Wajah Bulat tidak disarankan. Style: Timeless, Smart.",
                mirip: "Jine, Hiromi"
            },
            "Jine": {
                bentuk: "Round",
                material: "Acetate",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Oval, Lonjong, Kotak, Hati.",
                note: "‚ùå Wajah bulat lebar/tulang pipi tinggi tidak disarankan. Style: Pintar tapi santai.",
                mirip: "Chowa, Hanami"
            },
            "Ima": {
                bentuk: "Oval / Bayonetta",
                material: "Acetate",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium ke Kecil",
                wajah: "Semua bentuk wajah.",
                note: "Pandangan agak sempit (Bayonetta style). Style: Y2K, Edgy, Office Siren.",
                mirip: "-"
            },
             "Kinsei": {
                bentuk: "Rectangle Rounded",
                material: "Acetate",
                elastisitas: "Tidak elastis",
                ukuran: "Medium ke Kecil",
                wajah: "Semua bentuk wajah.",
                note: "Style: Simple, Berkarakter, Balance.",
                mirip: "Hoshi, Hajime, Najio"
            },
            "Hoshi": {
                bentuk: "Square Bold",
                material: "Acetate",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua (kecuali kotak rahang tajam).",
                note: "Style: Tegas, Modern, Premium.",
                mirip: "Najio, Hajime, Kinsei"
            },
            "Hanami": {
                bentuk: "Bulat Tebal",
                material: "Acetate",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Oval, Lonjong, Kotak.",
                note: "‚ùå Wajah bulat lebar tidak disarankan. Style: Bold, Playful.",
                mirip: "Jine, Riyuki"
            },
            "Riyuki": {
                bentuk: "Round",
                material: "Acetate",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Oval, Lonjong, Kotak.",
                note: "Style: Japanese clean look, Sophisticated.",
                mirip: "Jine, Hanami"
            },
            "Aozora": {
                bentuk: "Rectangle (Chunky Bayonetta)",
                material: "Acetate",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Kecil",
                wajah: "Oval, Lonjong, Hati.",
                note: "Style: Bold Statement, Pusat perhatian.",
                mirip: "Kinsei"
            },
            "Meiro": {
                bentuk: "Rectangle",
                material: "Acetate",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium (Lebar/Kecil)",
                wajah: "Semua bentuk wajah.",
                note: "Style: Effortless bold, Outdoor vibes.",
                mirip: "Kasumi"
            },
            "Kasumi": {
                bentuk: "Square Tebal",
                material: "Acetate",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Style: Modern, Edgy, Streetwear.",
                mirip: "Meiro"
            },
             "Yume": {
                bentuk: "Oval Rounded (Retro)",
                material: "Acetate",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Style: Playful, Retro-Modern, Idol Kpop vibe.",
                mirip: "Ukiyo"
            },
            "Ukiyo": {
                bentuk: "Oval Pipih",
                material: "Acetate",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium (disarankan cewe)",
                wajah: "Semua bentuk wajah.",
                note: "‚ùå Wajah lebar besar tidak disarankan. Style: Minimalis standout.",
                mirip: "Yume"
            },
            "Kizuna": {
                bentuk: "Rectangle Futuristik",
                material: "Acetate",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium",
                wajah: "Semua bentuk wajah.",
                note: "‚ùå Wajah lebar besar tidak disarankan. Style: Visioner, Modern.",
                mirip: "Meiro"
            },
            "Hika": {
                bentuk: "Cat Eye",
                material: "Acetate",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium",
                wajah: "Semua bentuk wajah.",
                note: "Style: Fierce, High Fashion, 'Main Character'.",
                mirip: "Shika, Noze"
            },
            
            // === KOLEKSI 2025 (REFINE & FELINE) ===
            "Rikona": {
                bentuk: "Rectangle",
                material: "Acetate + Metal Temple",
                elastisitas: "Tidak ada per",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah (ujung rounded).",
                note: "Style: Profesional Berkelas. Creative worker di coffee shop.",
                mirip: "-"
            },
            "Meiso": {
                bentuk: "Round",
                material: "Full Acetate",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Kotak, Oval, Lonjong.",
                note: "‚ùå Wajah bulat lebar kurang cocok. Style: Tenang, Tajam, Strategist.",
                mirip: "Bomi, Airi"
            },
            "Naoya": {
                bentuk: "Rectangle",
                material: "Acetate + Metal",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium",
                wajah: "Bulat, Oval, Lonjong.",
                note: "‚ùå Wajah Kotak tegas kurang disarankan. Style: Eksekutif Muda, Bold.",
                mirip: "Yoka, Hajime"
            },
            "Niji": {
                bentuk: "Square",
                material: "Full Acetate",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Bulat, Oval, Lonjong.",
                note: "‚ùå Wajah Kotak tegas kurang disarankan. Style: Playful, Youthful (warna transparan).",
                mirip: "Najio, Hoshi"
            },
            "Reika": {
                bentuk: "Cat Eye",
                material: "Full Acetate",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Style: Strong, Brave, Edgy Chic.",
                mirip: "Noze, Shika"
            },
             "Rune": {
                bentuk: "Round",
                material: "Full Acetate",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium",
                wajah: "Semua bentuk wajah.",
                note: "Style: Timeless, Minimalis, 'Less is More'.",
                mirip: "Hankai, Najio, Kinsei"
            },
            "Piyo": {
                bentuk: "Cat Eye",
                material: "TR90 (Aksen metal)",
                elastisitas: "Tidak ada per (melebar pinggir)",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Style: Grace & Power. Tenang tapi memikat.",
                mirip: "Miyu"
            },
            "Geumi": {
                bentuk: "Cat Eye",
                material: "Metal Stainless (Non-magnetic)",
                elastisitas: "Tidak ada per",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Style: Tenang, Berprinsip, Smart Minimalist.",
                mirip: "Yuki"
            },
            "Yuki": {
                bentuk: "Cat Eye",
                material: "TR90 + Metal",
                elastisitas: "Ada Per",
                ukuran: "Medium ke Kecil",
                wajah: "Semua bentuk wajah.",
                note: "Style: Soft Power. Lembut namun tegas.",
                mirip: "Geumi"
            },
            "Doci": {
                bentuk: "Cat Eye",
                material: "TR90 (Aksen temple)",
                elastisitas: "Ada Per",
                ukuran: "Medium",
                wajah: "Semua bentuk wajah.",
                note: "Style: Calm, Berkarisma, Simple.",
                mirip: "Shuji"
            },
            "Nalla": {
                bentuk: "Cat Eye",
                material: "TR90 + Metal",
                elastisitas: "Ada Per",
                ukuran: "Medium",
                wajah: "Semua bentuk wajah.",
                note: "Style: Warm, Approachable, Professional.",
                mirip: "Anya, Akika, Geumi"
            },

            // === FRAME STANDAR / BASIC ===
            "Kyosi": {
                bentuk: "Square",
                material: "Full Plastik",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium",
                wajah: "Semua. ‚ùå Wajah kotak rahang tajam.",
                note: "Style: Simple, Fungsional, Timeless.",
                mirip: "Konan, Tamura"
            },
             "Konan": {
                bentuk: "Square",
                material: "Plastik",
                elastisitas: "Elastis",
                ukuran: "Medium ke Kecil",
                wajah: "Semua bentuk wajah.",
                note: "Style: Praktis, Tahan Banting.",
                mirip: "Kyosi, Tamura, Hiro"
            },
            "Tamura": {
                bentuk: "Square Rounded",
                material: "Plastik (Plat besi samping)",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium",
                wajah: "Semua (Wajah kotak cocok).",
                note: "Style: Relaxed, Friendly.",
                mirip: "Kyosi"
            },
            "Hiro": {
                bentuk: "Square",
                material: "Plastik",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua. ‚ùå Wajah kotak rahang tajam.",
                note: "Style: Praktis, Rapi, Versatile.",
                mirip: "Konan, Yoka"
            },
             "Yoka": {
                bentuk: "Square Rounded",
                material: "Plastik (Plat besi)",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium",
                wajah: "Semua. ‚ùå Wajah kotak rahang tajam.",
                note: "Style: Cerdas, Profesional, All-day use.",
                mirip: "Hiro, Haruna"
            },
            "Kaizu": {
                bentuk: "Square",
                material: "Plastik + Batang Besi",
                elastisitas: "Tidak bisa bengkok (hanya melebar)",
                ukuran: "Medium",
                wajah: "Semua. ‚ùå Wajah kotak rahang tajam.",
                note: "Style: Sleek, Modern Minimalis.",
                mirip: "Kyosi, Tamura"
            },
            "Chita": {
                bentuk: "Oval (Nosebridge Metal)",
                material: "Plastik Elastis + Metal",
                elastisitas: "Elastis (bisa bengkok)",
                ukuran: "Medium ke Kecil",
                wajah: "Semua bentuk wajah.",
                note: "Style: Smart, Simple, Casual.",
                mirip: "Najio, Hajime"
            },
             "Tamada": {
                bentuk: "Square Rounded",
                material: "Acetate + Besi",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Style: Ambisius, Detail-oriented.",
                mirip: "Akame"
            },
             "Hankai": {
                bentuk: "Oval",
                material: "Plastik + Metal",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Kecil",
                wajah: "Semua. ‚ùå Bulat chubby tidak disarankan.",
                note: "Style: Classic Intellectual.",
                mirip: "Akashi"
            },
             "Hitto": {
                bentuk: "Oval Geometric",
                material: "Full Plastik (Plat besi)",
                elastisitas: "Sedikit elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Oval, Kotak, Lonjong. ‚ùå Bulat lebar tidak disarankan.",
                note: "Style: Edgy, Futuristic.",
                mirip: "Himee"
            },
            "Himee": {
                bentuk: "Geometric",
                material: "Full Metal",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Style: Modern, Smart, Unique.",
                mirip: "Hitto"
            },
            "Karia": {
                bentuk: "Rectangle",
                material: "Plastik (Aksen besi)",
                elastisitas: "Elastis",
                ukuran: "Medium ke Kecil",
                wajah: "Semua. ‚ùå Wajah kotak rahang tajam.",
                note: "Style: Elegan, Profesional modern.",
                mirip: "Konan, Kyosi"
            },
            "Odate": {
                bentuk: "Oval",
                material: "Plastik + Besi",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Style: Clean, Timeless.",
                mirip: "Sora, Akashi"
            },
            "Ayumi": {
                bentuk: "Cat Eye",
                material: "Plastik (depan) + Besi (batang)",
                elastisitas: "Tidak Elastis",
                ukuran: "Medium ke Kecil",
                wajah: "Semua bentuk wajah.",
                note: "Style: Mandiri, Elegan, Berkelas.",
                mirip: "Shuji, Noze"
            },

            // === KOLEKSI CLIP-ON ===
            "Yuna": {
                bentuk: "Oval Semi Cat Eye (Clip On)",
                material: "Acetate + Besi",
                elastisitas: "Ada Per",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Style: 2-in-1, Praktis, Casual Chic.",
                mirip: "Rona, Shuji"
            },
            "Jiyo": {
                bentuk: "Square Clubmaster (Clip On)",
                material: "Acetate + Besi",
                elastisitas: "Sedikit Elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Style: Tegas, Stylish, Berkarakter.",
                mirip: "Inabe, Luna"
            },
             "Luna": {
                bentuk: "Square semi cat eye (Clip On)",
                material: "Full Besi",
                elastisitas: "Ada Per",
                ukuran: "Medium ke Lebar",
                wajah: "Semua bentuk wajah.",
                note: "Style: Profesional, Percaya Diri.",
                mirip: "Jiyo, Inabe"
            },
             "Rumi": {
                bentuk: "Square (Clip On)",
                material: "Full Acetate",
                elastisitas: "Sedikit Elastis",
                ukuran: "Medium ke Lebar",
                wajah: "Semua. ‚ùå Wajah kotak rahang tajam.",
                note: "Style: Santai tapi Rapi.",
                mirip: "Hoshi"
            },
             "Rona": {
                bentuk: "Oval (Clip On)",
                material: "Acetate + Besi",
                elastisitas: "Sedikit Elastis",
                ukuran: "Medium",
                wajah: "Semua bentuk wajah.",
                note: "Style: Playful, Classy, Ekspresif.",
                mirip: "Sora, Amiko"
            },
             "Inari": {
                bentuk: "Square (Clip On)",
                material: "TR90",
                elastisitas: "Ada Per",
                ukuran: "Lebar",
                wajah: "Bulat, Oval, Lonjong.",
                note: "Style: Aktif, Efisien.",
                mirip: "Shizu"
            },
             "Shizu": {
                bentuk: "Square (Clip On)",
                material: "TR90",
                elastisitas: "Sedikit Elastis",
                ukuran: "Medium",
                wajah: "Bulat, Oval, Lonjong.",
                note: "Style: On-the-go, Sporty casual.",
                mirip: "Inari"
            },
             "Amiko": {
                bentuk: "Round (Clip On)",
                material: "TR90 + Metal",
                elastisitas: "Ada Per",
                ukuran: "Medium",
                wajah: "Kotak, Oval, Lonjong.",
                note: "Style: Simpel Fungsional.",
                mirip: "Bomi, Hankai"
            },

            // === LAIN-LAIN (Placeholder / Info Minim di PDF) ===
            "Miyu": { nama: "Miyu", info: "Mirip Sanmu tapi versi lebih lebar." },
            "Kaori": { nama: "Kaori", info: "Mirip Siyo/Miso (bahan kombinasi)." },
            "Mizu": { nama: "Mizu", info: "Mirip Miki." },
            "Kira": { nama: "Kira", info: "Frame Square Acetate (Cek stok)." },
            "Mori": { nama: "Mori", info: "Cek fisik frame di rak." },
            "Haruna": { nama: "Haruna", info: "Mirip Yoka/Okimi. Versi tipis & ringan." },
            "Airi": { nama: "Airi", info: "Mirip Akashi (lebih kecil)." },
            "Bomi": { nama: "Bomi", info: "Mirip Amiko/Meiso." },
            "Sena": { nama: "Sena", info: "Cek fisik frame di rak." },
            "Hana": { nama: "Hana", info: "Mirip Ayumi (versi tipis lebar)." },
            "Suwa": { nama: "Suwa", info: "Cek fisik frame di rak." },
            "Chami": { nama: "Chami", info: "Cek fisik frame di rak." }
        };

        // === FUNGSI PENCARIAN & INTERAKSI ===
        const searchInput = document.getElementById('searchInput');
        const cells = document.querySelectorAll('.cell');
        const infoTitle = document.getElementById('infoTitle');
        const infoSubtitle = document.getElementById('infoSubtitle');
        const infoContent = document.getElementById('infoContent');

        // Fungsi Tampilkan Info Produk
        function showProductInfo(namesString, isStacked) {
            const names = namesString.split(',').map(n => n.trim());
            let htmlContent = '';

            // Ubah Judul Panel
            infoTitle.innerHTML = isStacked 
                ? `<span class="text-yellow-600">‚ö†Ô∏è Tumpukan Box:</span> ${namesString}` 
                : `<span class="text-blue-600">üìç Produk:</span> ${namesString}`;
            
            infoSubtitle.textContent = isStacked 
                ? "Posisi frame ini ditumpuk di atas box lain." 
                : "Posisi frame ini ada di meja display.";

            names.forEach(name => {
                // Normalisasi nama (misal Amiku -> Amiko jika ada typo, atau hapus spasi)
                let cleanName = name;
                const data = glassesDB[cleanName];

                if (data) {
                    if(data.info) {
                        // Data minimalis
                         htmlContent += `
                            <div class="bg-white p-4 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition">
                                <h3 class="text-lg font-bold text-gray-800 mb-2 border-b pb-1">${cleanName}</h3>
                                <p class="text-gray-600 text-sm">‚ÑπÔ∏è ${data.info}</p>
                            </div>
                        `;
                    } else {
                        // Data Lengkap
                        htmlContent += `
                            <div class="bg-white p-4 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition relative overflow-hidden">
                                <div class="absolute top-0 right-0 w-16 h-16 bg-blue-50 rounded-bl-full -mr-8 -mt-8 z-0"></div>
                                <h3 class="relative z-10 text-lg font-bold text-blue-800 mb-3 border-b pb-1 flex justify-between">
                                    ${cleanName}
                                    <span class="text-xs font-normal bg-blue-100 text-blue-600 px-2 py-1 rounded-full self-center">${data.bentuk}</span>
                                </h3>
                                
                                <div class="relative z-10 space-y-3 text-sm">
                                    <div class="grid grid-cols-3 gap-1">
                                        <span class="text-gray-500 col-span-1">Material</span>
                                        <span class="font-semibold text-gray-800 col-span-2">${data.material}</span>
                                    </div>
                                    <div class="grid grid-cols-3 gap-1">
                                        <span class="text-gray-500 col-span-1">Wajah</span>
                                        <span class="font-semibold text-gray-800 col-span-2">${data.ukuran}</span>
                                    </div>
                                    <div class="grid grid-cols-3 gap-1">
                                        <span class="text-gray-500 col-span-1">Elastisitas</span>
                                        <span class="text-gray-800 col-span-2">${data.elastisitas}</span>
                                    </div>
                                    
                                    <div class="bg-gray-50 p-2 rounded mt-2">
                                        <p class="text-xs text-gray-500 font-bold mb-1">REKOMENDASI:</p>
                                        <p class="text-gray-700 leading-snug">${data.wajah}</p>
                                    </div>

                                    ${data.note ? `
                                    <div class="flex gap-2 items-start text-xs bg-yellow-50 p-2 rounded text-yellow-800 border border-yellow-100">
                                        <span>üí°</span>
                                        <span>${data.note}</span>
                                    </div>` : ''}

                                    ${data.mirip ? `
                                    <div class="text-xs text-gray-500 pt-1">
                                        <span class="font-bold">Mirip:</span> ${data.mirip}
                                    </div>` : ''}
                                </div>
                            </div>
                        `;
                    }
                } else {
                    htmlContent += `
                        <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                            <h3 class="text-lg font-bold text-gray-400 mb-1">${cleanName}</h3>
                            <p class="text-sm text-gray-500 italic">Data detail belum tersedia di database.</p>
                        </div>
                    `;
                }
            });

            infoContent.innerHTML = htmlContent;
        }

        // Event Listener untuk Klik Sel Denah
        cells.forEach(cell => {
            cell.addEventListener('click', function() {
                // Reset highlight klik sebelumnya
                cells.forEach(c => c.classList.remove('selected'));
                this.classList.add('selected');

                const names = this.getAttribute('data-names');
                const isStacked = this.getAttribute('data-stacked') === 'true';
                
                if(names) {
                    showProductInfo(names, isStacked);
                }
            });
        });

        // Logika Pencarian (Highlighting)
        searchInput.addEventListener('input', function(e) {
            const keyword = e.target.value.toLowerCase();
            
            // Reset semua
            cells.forEach(cell => cell.classList.remove('highlighted', 'opacity-25'));

            if(keyword.length < 2) return; // Tunggu minimal 2 huruf

            let found = false;

            // 1. Cari berdasarkan Nama Frame di Denah
            cells.forEach(cell => {
                const cellNames = cell.getAttribute('data-names')?.toLowerCase() || "";
                if (cellNames.includes(keyword)) {
                    cell.classList.add('highlighted');
                    found = true;
                }
            });

            // 2. Cari berdasarkan "Data dalam Database" (Misal cari "bulat" atau "hidung pesek")
            // Jika keyword tidak ditemukan di nama frame langsung, kita cek database
            if (!found) {
                // Cari frame mana saja di DB yang punya keyword tsb
                const matchingFrames = Object.keys(glassesDB).filter(key => {
                    const data = glassesDB[key];
                    // Gabungkan semua teks data menjadi satu string panjang untuk dicari
                    const fullText = JSON.stringify(data).toLowerCase();
                    return fullText.includes(keyword);
                });

                // Highlight cell yang mengandung frame tersebut
                if (matchingFrames.length > 0) {
                    cells.forEach(cell => {
                        const cellNames = cell.getAttribute('data-names')?.split(',') || [];
                        // Cek apakah salah satu nama di cell ini ada di daftar matchingFrames
                        const isMatch = cellNames.some(name => matchingFrames.includes(name.trim()));
                        
                        if (isMatch) {
                            cell.classList.add('highlighted');
                        } else {
                            cell.classList.add('opacity-25'); // Redupkan yang tidak cocok
                        }
                    });
                }
            } else {
                 // Jika nama frame ketemu langsung, redupkan sisanya
                 cells.forEach(cell => {
                    if(!cell.classList.contains('highlighted')) cell.classList.add('opacity-25');
                 });
            }
        });

        function resetSearch() {
            searchInput.value = '';
            cells.forEach(cell => cell.classList.remove('highlighted', 'opacity-25', 'selected'));
            infoTitle.textContent = "Detail Produk";
            infoSubtitle.textContent = "Klik pada kotak denah untuk melihat detail.";
            infoContent.innerHTML = `
                <div class="text-center text-gray-400 py-10 flex flex-col items-center">
                    <svg class="w-16 h-16 mb-3 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>
                    <p>Pilih kacamata di denah atau cari nama produk.</p>
                </div>`;
        }

        // Modal Functions
        const lensModal = document.getElementById('lensModal');
        function showLensInfo() {
            lensModal.classList.remove('hidden');
            lensModal.classList.add('flex');
        }
        function closeLensInfo() {
            lensModal.classList.add('hidden');
            lensModal.classList.remove('flex');
        }
        // Close modal on outside click
        lensModal.addEventListener('click', function(e) {
            if(e.target === lensModal) closeLensInfo();
        });

    </script>
</body>
</html>